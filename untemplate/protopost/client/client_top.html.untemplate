import com.mchange.conveniences.string.*

( protopostLocation : String )[]~()>
<!DOCTYPE html>

<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="<( pathJoin(protopostLocation, "/protopost/client/scalajs/jslib/DOMPurify-3.2.7/purify.min.js") )>"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/lib/marked.umd.js"></script>
    <script type="importmap">
                {
                        "imports": {
                                "ckeditor5": "<( pathJoin(protopostLocation, "/protopost/client/scalajs/jslib/ckeditor5/ckeditor5.js") )>",
                                "ckeditor5/": "<( pathJoin(protopostLocation, "/protopost/client/scalajs/jslib/ckeditor5/") )>"
                        }
                }
    </script>
    <link rel="stylesheet" href="https://cdn.ckeditor.com/ckeditor5/47.0.0/ckeditor5.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.15.4/beautify-html.min.js"></script>
    <style>
      * {
          box-sizing: border-box;
          min-width: 0px;
      }

      /*   if this is too untargeted, consider perhaps, thanks claude */
      /*
         [style*="display: flex"] > *, [style*="display: grid"] > * {
           min-width: 0;
         }
      */

      html {
          height: 100%;
      }

      body {
          width: 100vw;
          height: 100vh;
          margin: 0;
          padding: 0;
          overflow: clip;
          font-family: sans-serif;
      }
      #root {
          width: 98vw;
          height: 98vh;
          margin-top: 1vh;
          margin-bottom: 1vh;
          margin-left: 1vw;
          margin-right: 1vw;
          padding: 0;
      }
      @media screen and (max-width: 700px) {
      }
    </style>
    <title>Protopost</title>
  </head>
  <body>
    <div id="root"></div>
  </body>

  <script type="module">
    globalThis.protopostLocation = "<( protopostLocation )>";
    globalThis.protopostCurrentPostId = 0;
    globalThis.protopostExternalJsConfig = {};
    function beautify_html( html, options ) {
        beautify.html( html, options );
    }
    await import('<( pathJoin(protopostLocation, "/protopost/client/scalajs/jslib/ckeditor5-main.js") )>');
    await import('<( pathJoin(protopostLocation, "/protopost/client/scalajs/main.js") )>');
  </script>

  <!-- <script src="<( pathJoin(protopostLocation, "/protopost/client/scalajs/main.js") )>"></script> --> 
</html>

